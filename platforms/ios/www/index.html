<!DOCTYPE html>
<html>
<!--
#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
# 
# http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#  KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
-->
  <head>
  <title></title>
  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
	<meta charset="utf-8">

	<style>
        
        /*********************************************
        * GLOBAL STYLES
        *********************************************/
        
        * { -webkit-touch-callout: none; -webkit-tap-highlight-color: rgba(0,0,0,0); -webkit-text-size-adjust: none; -webkit-user-drag: none; }
        
        html, body {
            margin: 0;
            min-height: 100%;
        }
        
        body {
            background: #393939;
            color: #000;
            font-family: Arial, sans-serif;
            font-size: medium;
            line-height: 22px;
        }
        
        .spacer {
	        margin-top: 20px;
        }
        
        .floatRight {
	        float: right;
        }
        
        #container {
        	width: 320px;
	        margin: 0 auto;
        }
        
        /*********************************************
        * HEADERS
        *********************************************/
                
        h1 {
            color: #42679C;
            font-size: xx-large;
            margin: 24px 0;
        }
        
        h2 {
            color: #42679C;
            font-size: x-large;
            margin: 32px 0 18px;
        }
        
        h3 {
            color: #42679C;
            font-size: large;
            margin: 30px 0 16px;
        }
        
        h4, h5, h6 {
            color: #000;
            font-size: 16px;
            margin: 20px 0 14px;
        }
        
        /*********************************************
        * LINKS
        *********************************************/
        
        a {
            color: #42679C;
        }

        /*********************************************
        * BUTTONS
        *********************************************/
        
        .controls {
            display: block;
            padding: 15px 0;
        }
        
        button {
            border: 1px solid #cfcfcf;
            background: #eee;
            display: inline-block;
            line-height: 22px;
            padding: 5px 20px;
            color: #333;
            font-size: large;
        }
        
        button:disabled {
            opacity: 0.5;
        }
        
        button:not(:disabled):hover {
            background: #fff;
            color: #ef4327;
        }
        
        button.small {
            color: #43679B;
            font-weight: bold;
            background: none;
            line-height: inherit;
            padding: 2px 5px;
        }
        
        /*********************************************
        * RADIO BUTTON, INPUT BOXES, CHECK BOXES
        *********************************************/
               
        input[type="checkbox"],
        input[type="radio"] {
            display: none;
        }
        
        label + br + input[type="text"]  {
	    	display: inline-block;
            margin: 0 2px 2px 0;
            padding: 2px 4px;
            border: 1px solid #cfcfcf;
            color: #000;
            background: #eee;
            font-size: larger;  
            border-radius: 0;
        }
        
        label + br + input[type="password"]  {
	    	display: inline-block;
            margin: 0 2px 2px 0;
            padding: 2px 4px;
            border: 1px solid #cfcfcf;
            color: #000;
            background: #eee;
            font-size: larger; 
            border-radius: 0; 
        }
        
        input[type="checkbox"] + label,
        input[type="radio"] + label {
            display: inline-block;
            margin: 0 2px 2px 0;
            padding: 2px 4px;
            border: 1px solid #cfcfcf;
            color: #000;
            background: #eee;
            font-size: larger;
        }
        
        input[type="checkbox"] + label:hover,
        input[type="radio"] + label:hover,
        input[type="text"] + label:hover {
            background: #fff;
            border-color: #ef4327;
            color: #ef4327;
        }
        
        input[type="checkbox"]:checked + label,
        input[type="radio"]:checked + label,
        input[type="text"]:checked + label {
            background: #ef4327;
            color: #fff;
            border-color: #ef4327;
        }
        
        input[type="radio"] + label:before {
            content: '○';
            font-size: 16px;
            margin-right: 3px;
        }
        
        input[type="radio"]:checked + label:before {
            content: '●';
        }
        
        input[type="checkbox"] + label:before {
            content: '□';
            font-size: 15px;
            margin-right: 4px;
        }
        
        input[type="checkbox"]:checked + label:before {
            content: '■';
        }
        
        /*********************************************
        * CODE & SYNTAX
        *********************************************/
        
        code, samp {
            display: block;
            background: #393939;
            color: #fff;
            padding: 12px;
            border: 1px solid #000;
            font-family: 'Lucida Console', Monaco, monospace;
            font-size: larger;
            white-space: pre-wrap;
            position: relative;
        }
        
        code:hover:before, samp:hover:before {
            display: inline-block;
            white-space: nowrap;
            position: absolute;
            top: -20px;
            right: -10px;
            background: #FFD;
            color: #330;
            content: 'Click to copy';
            padding: 2px 4px;
            font-family: sans-serif;
            font-size: larger;
            opacity: 0.9;
            font-weight: bold;
        }
        
        /*********************************************
        * SECTION DIVIDERS
        *********************************************/

		section {
			margin-bottom: 20px;
		}
		
		/*********************************************
        * DIALOGS
        *********************************************/
		
		section.dialog {
			border: 1px solid #999;
			background: #fff;
			padding: 12px;
			margin: 0;
			position: relative;
		}
		
		section.dialog h1 {
			display: block;
			margin: -12px -12px 12px -12px;
			padding: 10px 4px;
			background: #eee;
			text-align: center;
			font-size: 13px;
			font-weight: normal;
			color: #000;
		}
		
		section.dialog section {
			padding: 20px;
			margin: 20px -12px;
			border-top: 1px solid #999;
			border-bottom: 1px solid #999;
			border-left: 10px solid #999;
			border-right: 10px solid #999;
		}
		
		section.dialog section h1 {
			text-align: center;
			padding: 0;
			background: none;
			color: #42679C;
			font-size: 13px;
			margin: 0 0 10px 0;
		}
    </style>
    
	<!-- iPad/iPhone specific css below, add after your main css >
	<link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="ipad.css" type="text/css" />		
	<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="iphone.css" type="text/css" />		
	-->
	<!-- If your application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->
	<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript">


	// If you want to prevent dragging, uncomment this section
	/*
	function preventBehavior(e) { 
      e.preventDefault(); 
    };
	document.addEventListener("touchmove", preventBehavior, false);
	*/
	
	/* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
	see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
	for more details -jm */
	/*
	function handleOpenURL(url) {
		// TODO: do something with the url passed in.
	}
	*/
    
    function decrementBadgeValue(badge) {
        if ( badge > 0 ) {
            badge = badge - 1;
        }
        window.localNotification.setApplicationBadge(badge);
    }
        
    function onReceivedLocalNotification(event) {
        var activeMessage;
        if ( event.active === true ) {
            activeMessage = ' while app was active';
        } else {
            activeMessage = ' while app was inactive';
        }
        var message = "Received local notificationId: " + event.notificationId + activeMessage;
        console.log(message);
        alert(message);
    }
	
	function onBodyLoad() {
		document.addEventListener("deviceready", onDeviceReady, false);
		document.addEventListener("receivedLocalNotification", onReceivedLocalNotification, false);
	}
	
	/* When this function is called, Cordova has been initialized and is ready to roll */
	/* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
	see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
	for more details -jm */
	function onDeviceReady() {
        if (!window.localNotification) {
            alert("Could not find localNotification");
        }
	}

    var successCb = function () {
        // Generic callback function
        console.log("API success");
    }

    var failureCb = function (error) {
        // Generic callback function
        alert(error);
    }
    function addNotification( scheduleImmediately ) {
        var msg = prompt("Please enter a notification message:","test");
        if ( msg ) {
            var seconds = parseInt(prompt("Please enter a time interval in seconds (integer):", 10));
            if ( seconds ) {
                var badge = parseInt(prompt("Please enter a badge value (integer):", 1));
                if ( badge ) {
                    var options = {
                        "message" : msg,
                        "seconds" : seconds,
                        "badge" : badge,
                    };
                    if ( scheduleImmediately ) {
                        window.localNotification.add("GAME_NOTIFICATION", options, function () {
                            alert("Successfully scheduled:\n" + JSON.stringify(options));
                            successCb();
                        }, failureCb);
                    } else {
                        window.localNotification.queue("COME_BACK_AND_PLAY", options, function () {
                            alert("Successfully queued (will be scheduled after quitting the app):\n" + JSON.stringify(options));
                            successCb();
                        }, failureCb);
                    }
                }
            }
        }
    }
        
    function cancelNotification() {
        window.localNotification.cancel("GAME_NOTIFICATION");
    }
    
    function cancelAllNotifications() {
        window.localNotification.cancelAll();
    }
    
    </script>
    </head>
	<body onload="onBodyLoad()">
		<div id="container">
			<h1>LocalNotification Plugin</h1>
			<section class="dialog">
			    <p>Experiment by pressing the buttons to set or cancel notifications. Also check the console log.</p>
			    <p>Add notification schedules a notification.</p>
			    <button onclick="addNotification(true);">Add Notification</button>
			    <p>Queue notification schedules the notification only when the app is moved into the background.</p>
			    <button onclick="addNotification(false);">Queue Notification</button>
			    <p>Cancel notification cancels a single scheduled notification by ID.</p>
			    <button onclick="cancelNotification();">Cancel notification</button>
			    <p>Cancel All Notifications cancels all pending scheduled notifications.</p>
			    <button onclick="cancelAllNotifications();">Cancel All Notification</button>
		    </section>
		</div>
	</body>
</html>
